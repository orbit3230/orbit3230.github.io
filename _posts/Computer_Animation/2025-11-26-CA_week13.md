---
layout: post
title: "[컴퓨터 애니메이션] 13주차 - Facial Animation"
excerpt: "Creatting Facial Expressions, Muscle-based Animation, Realistic Models, The Volume Preservation Forces, Blendshapes"

tags:
  - [컴퓨터 애니메이션]

toc: true

date: 2025-11-26
last_modified_at: 2025-11-26
---
## Facial Animation
### 1. Creating Facial Expressions
- 얼굴을 구성하는 점의 개수는 매우 많다.
  - Dimensionality가 매우 높다.

- 따라서 각 Expression(표정)을 manually 만들어내는 것은 매우 tedious하고 time-consuming한 작업이다.

- Fred Parke는 최초로 사람 얼굴에 대한 3D parametric model을 만들었다. (1974)  
![parke_face_model][def]  

<br>

### 2. Muscle-based Animation
- 얼굴 근육을 simulate하기 위해 **mass-and-spring model**을 사용한다.
  - 스프링을 잡아당겼다 놓으면 돌아오려는 힘이 발생하듯이,  
  얼굴 Mesh를 구성하는 vertex와 vertex를 잇는 edge에 스프링을 연결하여,  
  특정 vertex를 움직이면 나머지 vertex들도 자연스럽게 따라 움직이도록 한다.  
  ![mass_spring_face][def2]  

  - 얼굴을 아래와 같이 두 개의 Layer와 세 개의 Surfaces로 모델링될 수 있고, 스프링으로 연결된다.  
  ![point_mass_spring_system][def3]  

- 입 주변은 Elliptical Muscle이라고 하여, 입 주변을 타원형으로 감싸는 근육이 존재한다.  
![elliptical_muscle][def4]  

<br>

### 3. Realistic Models  
- 만약 더 사실적인 사람의 표정을 simulate하고 싶다면, 얼굴의 surface를 스캔할 필요가 있다.

- 우리가 필요로 하는것은, 얼굴의
  - Geometry Data
  - Texture

- Cyberware Color Digitizer
  - 오래된 전통이 있는 스캔 방식
  - A laser range scanner
    - 레이저가 얼굴 표면에 닿고 반사되어 돌아오는 시간을 측정하여,  
    depth map을 생성한다.  
  - 측정된 range data와 실제로 촬영한 color texture를 합치는 방식.  
  ![cyberware_scanner][def5]  

<br>

### 4. The Volume Preservation Forces
- 사람의 피부는 incompressible하다.  
- 주름과 같은 걸을 simulate 하려면, Volume Preservation Force가 필요하다.  
![volume_preservation_force][def6]  

- Volume이 줄어든 양 만큼에 비례하게 노드를 위로 미는 힘을 가한다.  
![pressing_upwards_proportionally][def7]  

<br>

### 4. Blendshapes  
- 실제 영화 산업에서 많이 사용되는 기법.
- **Linear Combination** of Facial expressions
- 미리 수백가지의 Expression vector를 만들어놓고,  
이들에 weight(가중치)를 곱하여 원하는 표정을 만들어낸다.  
![blendshapes][def8]  
  - 얼굴을 구성하는 vertex의 개수가 `m`개이며, expression의 종류가 `n`개라고 하자.  
  - Expression vector가 쌓여서 만들어진 행렬 `B`는 `3m x n`이다.  
    - 각 vertex는 3차원 좌표를 가지므로. (x, y, z)
  - `m`은 일반적으로 10000+α개, `n`은 100+α개 정도이다.  

<br>

- 3D 모션 캡쳐 데이터로부터 Blendshape animation 컨트롤을 학습할 수 있다.
  - 아래와 같이 quadratic programming 문제로 표현할 수 있는 constrained linear system을 해결하는 것이다.  
  ![constrained_linear_system][def9]  

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 김종민 교수님의 컴퓨터 애니메이션 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details> 

[def]: https://i.imgur.com/9yeB9wX.png
[def2]: https://i.imgur.com/jQSmtyy.png
[def3]: https://i.imgur.com/l2pu0ty.png
[def4]: https://i.imgur.com/MMgdkqj.png
[def5]: https://i.imgur.com/JuwifgG.png
[def6]: https://i.imgur.com/QPs4TFw.png
[def7]: https://i.imgur.com/7mvvcvG.png
[def8]: https://i.imgur.com/mRHPESj.png
[def9]: https://i.imgur.com/Qz0Sgsx.png