---
layout: post
title: "[데이터베이스] 12주차 - 트랜잭션, 동시성 제어, 회복"
excerpt: "트랜잭션, 동시성 제어, 트랜잭션 고립 수준, 회복"

tags:
  - [데이터베이스]

toc: true

date: 2025-11-17
last_modified_at: 2025-11-17
---
## 트랜잭션, 동시성 제어, 회복
### 1. 트랜잭션  
- 트랜잭션(Transaction) : DBMS에서 데이터를 다루는 논리적인 작업의 단위

- 데이터베이스에서 트랜잭션을 정의하는 이유
  - 데이터베이스에서 데이터를 다룰 때 장애가 발생하면 데이터를 복구하는 작업의 단위가 됨
  - 데이터베이스에서 여러 작업이 동시에 같은 데이터를 다룰 때 작업을 서로 분리하는 단위가 됨

- 트랜잭션은 전체가 수행되거나 전혀 수행되지 않아야 함(all or nothing)

<br>

- 계좌이체 트랜잭션 예시  
![transaction_example](TODO)  

- 트랜잭션 수행 과정  
![transaction_process_1](TODO)  
![transaction_process_2](TODO)  

- 트랜잭션의 종료(COMMIT)를 알리는 방법
  - [방법 1] (1)-(2)-(3)-(4)-COMMIT-(5)-(6)
  - [방법 2] (1)-(2)-(3)-(4)-(5)-(6)-COMMIT  
  - DBMS는 사용자에게 빠른 응답성을 보장하기 위해 [방법 1]을 선택  
  ![transaction_commit_method](TODO)  

<br>

- 트랜잭션의 ACID 성질
  - Atomicity(원자성) : 트랜잭션에 포함된 작업은 전부 수행되거나, 아니면 전부 수행되지 않아야(all or nothing) 함
    - 오라클의 트랜젝션 제어 명령어(TCL)  
    ![oracle_tcl_commands](TODO)  

  - Consistency(일관성) : 트랜잭션을 수행하기 전이나 수행한 후나 데이터베이스는 항상 일관된 상태를 유지해야 함
    - 일관성은 테이블이 생성 시 `CREATE`문과 `ALTER`문의 무결성 제약조건을 통해 명시  
    ![integrity_constraints](TODO)  

  - Isolation(고립성) : 수행 중인 트랜잭션에 다른 트랜잭션이 끼어들어 변경 중인 데이터 값을 훼손하는 일이 없어야 함
    - 고립성을 유지하기 위해서는 트랜잭션이 변경 중인 임시 데이터를 다른 트랜잭션이 읽고 쓸 때 제어가 필요  
    ![isolation_example](TODO)

  - Durability(지속성) : 수행을 성공적으로 완료한 트랜잭션은 변경한 데이터를 영구히 저장해야 함  
  ![durability_example](TODO)  

<br>

### 2. 동시성 제어

<br>

### 3. 트랜잭션 고립 수준  

<br>

### 4. 회복  

<br>          
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 최황규 교수님의 데이터베이스 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>