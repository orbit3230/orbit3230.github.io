---
layout: post
title: "[데이터베이스] 9주차 - 데이터 모델링"
excerpt: "데이터 모델링의 개념, ER 모델, ER 모델을 관계 데이터 모델로 사상"

tags:
  - [데이터베이스]

toc: true

date: 2025-10-27
last_modified_at: 2025-11-03
---
## 데이터 모델링
### 1. 데이터 모델링의 개념
- 데이터베이스 모델링 Visualization  
![data_modeling][def]  

<br>

- 데이터베이스 생명주기(Database Life Cycle)  
![db_life_cycle][def2]  
  - (1) 요구사항 수집 및 분석 : 사용자들의 요구사항을 듣고 분석, DB 구축의 범위를 정함
  - (2) 설계 : 분석된 요구사항을 바탕으로 주요 개념과 업무 프로세스 등을 식별(개념적 설계), 사용하는 DBMS에 맞게 변환(논리적 설계), 데이터베이스 스키마를 도출(물리적 설계)
  - (3) 구현 : 설계 단계에서 생성한 스키마를 실제 DBMS에 적용, 테이블 및 관련 객체(뷰, 인덱스)를 생성
  - (4) 운영 : 구현된 DB를 바탕으로 소프트웨어 구축, 서비스 제공
  - (5) 감시 및 개선 : DB 운영에 따른 시스템의 문제를 관찰, DB 자체의 문제점 파악 및 개선

<br>

- 데이터 모델링 과정  
![data_modeling_process][def3]  

<br>

- 개념적 모델링(Conceptual Modeling)  
![conceptual_modeling][def4]  
  - 요구사항을 수집하고 분석한 결과를 토대로 업무의 핵심적인 개념을 구분하고 전체적인 뼈대를 만드는 과정
  - 개체(entity)를 추출하고 각 개체들 간의 관계를 정의하여 ER 다이어그램(ERD, Entity-Relationship Diagram) 작성  

- 논리적 모델링(Logical Modeling)  
![logical_modeling][def5]  
  - (1) 개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출
  - (2) 정규화 수행
  - (3) 데이터 표준화 수행  

- 물리적 모델링(Physical Modeling)  
![physical_modeling][def6]  
  - 작성된 논리적 모델을 실제 컴퓨터의 저장 장치에 저장하기 위한 물리적 구조를 정의하고 구현
  - DBMS의 특성에 맞게 저장 구조를 정의해야 데이터베이스가 최적의 성능을 낼 수 있음
  - 물리적 모델링 시 트랜잭션, 저장 공간 설계 측면에서 Consideration
    - 응답시간 최소화
    - 동시에 발생 가능한 트랜잭션 수 검토
    - 데이터가 저장될 공간을 효율적으로 배치

<br>

### 2. ER 모델
- ER(Entity-Relationship) 모델
  - 세상의 사물을 개체(Entity)와 개체 간의 관계(Relationship)로 표현  
  - 개체
    - 현실 세계에서 독립적으로 존재하는 것
    - 개체의 특성을 나타내는 속성(Attribute)으로 식별됨
  - ER 모델의 기본 개념  
  ![er_model_basic_concept][def7]  

<br>

- ER 다이어그램 : ER 모델은 개체와 개체 간의 관계를 표준화한 그림으로 나타냄.  
![er_diagram_example][def8]  

<br>

- 개체(Entity)  
![entity_example][def9]
  - 사람, 사물, 장소, 개념, 사건과 같이 유무형의 정보를 가지고 있는 독립적인 실체.
  - 비슷한 속성의 개체 타입(Entity Type)을 구성하며, 개체 집합(Entity Set)으로 표현됨.  

<br>

- 개체 타입의 ER 다이어그램 표현
  - ER 다이어그램에서 개체 타입은 직사각형으로 표현됨.  
  ![entity_type_representation][def10]  

  - 개체 타입의 유형
    - 강한 개체(strong entity) : 다른 개체의 도움 없이 독립적으로 존재할 수 있는 개체 타입
    - 약한 개체(weak entity) : 독립적으로는 존재할 수 없고, 반드시 상위 개체 타입을 가짐.

<br>

- 속성(Attribute)  
![attribute_example][def11]
  - 개체가 가진 성질  

<br>

- 속성의 ER 다이어그램 표현
  - 속성은 기본적으로 타원으로 표현. 개체 타입을 나타내는 직사각형과 실선으로 연결됨.
  - 속성의 이름은 타원의 중앙에 표기
  - 속성이 개체를 유일하게 식별할 수 있는 키일 경우 속성 이름에 밑줄을 그림.  
  ![attribute_representation][def12]  

- 속성의 ER 다이어그램 표현 (Cont'd)  
![attribute_representation_contd][def13]  

<br>

- 관계와 관계 타입  
![relationship_example][def14]  
  - 관계(Relationship) : 개체 간의 연관성을 의미  
  - 관계 타입(Relationship Type)
    - 개체 타입과 개체 타입 간의 연결 가능한 관계를 정의한 것
    - 관계 집합(Relationship Set)은 관계로 연결된 집합을 의미  

<br>

- 관계 타입의 ER 다이어그램 표현  
![relationship_type_representation][def15]  

<br>

- 차수에 따른 관계 타입의 유형
  - 관계 집합에 참가하는 개체 타입의 수를 관계 타입의 차수(degree)라고 함  
  ![relationship_type_by_degree][def16]  

  - 관계 대응수(mapping cardinality) : 두 개체 타입의 관계에 실제로 참여하는 개별 개체 수  
  - 관계 대응수에 따른 관계 타입의 유형  
  ![relationship_type_by_cardinality][def17]  

- 일대일(1:1) 관계  
  - 좌측 개체 타입에 포함된 개체가 우측 개체 타입에 포함된 개체와 일대일로 대응하는 관계  
  ![one_to_one_relationship][def18]  

- 일대다(1:N), 다대일(N:1) 관계 ★  
  - 실제 일상생활에서 가장 많이 볼 수 있는 관계
  - 한쪽 개체 타입의 개체 하나가 다른 쪽 개체 타입의 여러 개체와 관계를 맺음.  
  ![one_to_many_relationship][def19]  
    - 1:N 관계에서 1을 부모 개체, N을 자식 개체라고도 한다.  

- 다대다(M:N) 관계  
  - 각 개체 타입의 개체들이 서로 임의의 개수의 개체들과 서로 복합적인 관계를 맺고 있는 관계  
  ![many_to_many_relationship][def20]  

<br>

- 관계 대응수의 최솟값과 최댓값 ★
  - 관계 대응수 1:1, 1:N, M:N 에서 1, N, M은 각 개체가 관계에 참여하는 최댓값을 의미
  - 관계에 참여하는 개체의 최솟값을 표시하지 않는다는 단점을 보완하기 위해 다이어그램에서는 대응수 외에 최솟값과 최댓값을 관계실선 위에 (최솟값, 최댓값)으로 표기  
  ![min_max_cardinality][def21]  
  ![min_max_cardinality_example][def22]  

<br>

- ISA 관계 : 상위 개체 타입의 특성에 따라 개체 타입이 결정되는 형태 (ISA => is-a)  
![isa_relationship][def23]  
![isa_relationship_example][def24]  

<br>

- 참여 제약 조건 : 개체 집합 내 모든 개체가 관계엥 참여하는 지 유무에 따라 전체 참여/부분 참여로 구분
  - 전체 참여 : 개체 집합의 모든 개체가 참여
  - 부분 참여 : 개체 집합의 일부 개체만 참여  
  ![participation_constraint][def25]  
  ![participation_constraint_example][def26]  

  <br>

- 역할 : 개체 타입 간의 관계를 표현할 때 각 개체들은 고유한 역할(role)을 담당함  
![role_in_relationship][def27]  

<br>

- 순환적 관계(Recursive Relationship) : 하나의 개체 타입이 동일한 개체 타입(자기 자신)과 순환적으로 관계를 가지는 형태  
![recursive_relationship][def28]  

<br>

- 약한 개체(weak entity) 타입
  - 상위 개체 타입이 결정되지 않으면 개별 개체를 식별할 수 없는 종속된 개체 타입
  - 약한 개체 타입은 독립적인 키로는 존재할 수 없지만, 상위 개체 타입의 키와 결합하여 약한 개체 타입의 개별 개체를 고유하게 식별하는 속성을 식별자(discriminator) 또는 부분키(partial key)라 함  
![weak_entity_type][def29]  
![weak_entity_type_example][def44]  

<br>

- IE 표기법(Information Engineering Notation)
  - ER 다이어그램을 더 축약하여 쉽게 표현하며 Erwin 등 소프트웨어에서 사용
  - IE 표기법에서 개체 타입과 속성은 직사각형으로 표현  
    - ER 표기법 Example  
    ![er_notation_example][def30]  
    - IE 표기법 Example  
    ![ie_notation_example][def31]  

  - IE 표기법에서 관계는 실선 or 점선으로 표기  
  ![ie_relationship_representation][def32]  

  - IE 표기법에서 관계(강한 관계, 비식별자 관계)는 점선으로 표기  
  - IE 표기법에서 관계(약한 관계, 식별자 관계)는 실선으로 표기  
    - ER 표기법 Example  
    ![er_strong_weak_relationship_example][def33]  
    - IE 표기법 Example  
    ![ie_strong_weak_relationship_example][def34]  

<br>

### 3. ER 모델을 관계 데이터 모델로 사상  
- 완성된 ER 모델은 실제 데이터베이스로 구축하기 위해 논리적 모델링 단계를 거치는데, 이 단계에서 사상(mapping)이 이루어짐  
![er_to_relational_mapping][def35]  

<br>

- 개체 타입의 사상  
![entity_type_mapping][def36]  
  - (1단계) 강한(정규) 개체 타입
    - 정규 개체 타입 `E`의 경우 대응하는 릴레이션 `R`을 생성  
  - (2단계) 약한 개체 타입
    - 약한 개체 타입에서 생성된 릴레이션은 자신의 키와 함께 강한 개체 타입의 키를 외래키로 사상하여 자신의 기본키를 구성

<br>

- 이진 관계 타입  
![binary_relationship_type_mapping][def37]  
  - [방법1] 오른쪽 개체 타입 `E2`를 기준으로 관계 `R`을 표현
    - `E1(KA1, A2)`  
    - `E2(KA2, A4, KA1)`  
  - [방법2] 왼쪽 개체 타입 `E1`를 기준으로 관계 `R`을 표현
    - `E1(KA1, A2, KA2)`  
    - `E2(KA2, A4)`
  - [방법3] 단일 릴레이션 `ER`로 모두 통합하여 관계 `R`을 표현 (조인)
    - `ER(KA1, A2, KA2, A4)`
  - [방법4] 개체 타입 `E1`, `E2`와 관계 타입 `R`을 모두 독립된 릴레이션으로 표현  
    - `E1(KA1, A2)`  
    - `R(KA1, KA2)`
    - `E2(KA2, A4)`  

- 관계 타입의 사상
  - (3단계) 이진 1:1 관계 타입  
  ![binary_1to1_relationship_type_mapping][def38]  
    - 이진 1:1 관계 타입의 경우 [방법1] ~ [방법4]까지 모든 유형으로 매핑 가능
    - 개체가 가진 정보 유형에 따라 판단  

  - (4단계) 이진 1:N 관계 타입 ★  
  ![binary_1toN_relationship_type_mapping][def39]  
    - 이진 1:N 관계 타입의 경우 N의 위치에 따라 [방법1] 또는 [방법2] 유형으로 매핑  

  - (5단계) 이진 M:N 관계 타입  
  ![binary_MtoN_relationship_type_mapping][def40]  
    - 이진 M:N 관계 타입은 [방법4]의 유형으로 매핑

  - (6단계) N진 관계 타입  
  ![nary_relationship_type_mapping][def41]  
    - ER 모델의 차수가 3 이상인 다진 관계 타입의 경우 [방법4]의 유형으로 매핑  

<br>

- 다중값 속성의 사상  
![multivalued_attribute_mapping][def42]  
  - (7단계) 다중값 속성  
  ![multivalued_attribute_mapping_example][def43]  
    - 속성의 개수를 알 수 없는 경우 [방법1]을, 속성의 개수가 제한적으로 정해지는 경우 [방법2]를 사용  

<br>          
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 최황규 교수님의 데이터베이스 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>

[def]: https://i.imgur.com/i3nIiVP.png
[def2]: https://i.imgur.com/knqQ96m.png
[def3]: https://i.imgur.com/lJJ2DHj.png
[def4]: https://i.imgur.com/PvZrr9X.png
[def5]: https://i.imgur.com/9BUGLgD.png
[def6]: https://i.imgur.com/Az1dqUj.png
[def7]: https://i.imgur.com/FEdSYwE.png
[def8]: https://i.imgur.com/Bneis40.png
[def9]: https://i.imgur.com/oH2UFVL.png
[def10]: https://i.imgur.com/zq8WlHJ.png
[def11]: https://i.imgur.com/mUTXe9h.png
[def12]: https://i.imgur.com/cHvdMFv.png
[def13]: https://i.imgur.com/78FTpcy.png
[def14]: https://i.imgur.com/SacCGVC.png
[def15]: https://i.imgur.com/w776Xfn.png
[def16]: https://i.imgur.com/ggR5giY.png
[def17]: https://i.imgur.com/Yq6Lm2g.png
[def18]: https://i.imgur.com/VfDwD9g.png
[def19]: https://i.imgur.com/aLt89w2.png
[def20]: https://i.imgur.com/WUbeZhW.png
[def21]: https://i.imgur.com/pO3mpsi.png
[def22]: https://i.imgur.com/Ks2q3Ew.png
[def23]: https://i.imgur.com/vDXwnlG.png
[def24]: https://i.imgur.com/aJK7q6a.png
[def25]: https://i.imgur.com/4uWpQfV.png
[def26]: https://i.imgur.com/MvKcH5P.png
[def27]: https://i.imgur.com/k3GREsW.png
[def28]: https://i.imgur.com/LzXIlKJ.png
[def29]: https://i.imgur.com/76fI5XM.png
[def30]: https://i.imgur.com/WJAfPnQ.png
[def31]: https://i.imgur.com/piuLjLF.png
[def32]: https://i.imgur.com/VtoeZK8.png
[def33]: https://i.imgur.com/RJL5abm.png
[def34]: https://i.imgur.com/80gDv8u.png
[def35]: https://i.imgur.com/m8TBdCJ.png
[def36]: https://i.imgur.com/LpcZSsf.png
[def37]: https://i.imgur.com/C9eIjvo.png
[def38]: https://i.imgur.com/hQ6LQz9.png
[def39]: https://i.imgur.com/9kRBBJX.png
[def40]: https://i.imgur.com/ji541Yh.png
[def41]: https://i.imgur.com/9V2iOCr.png
[def42]: https://i.imgur.com/uuGtcMX.png
[def43]: https://i.imgur.com/W7dY1D0.png
[def44]: https://i.imgur.com/8rf6hkw.png