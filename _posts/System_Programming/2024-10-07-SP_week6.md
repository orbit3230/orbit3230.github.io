---
layout: post
title: "[시스템 프로그래밍] 6주차 - Machine-Level Programming (2)"
excerpt: ""

tags:
  - [시스템 프로그래밍]

toc: true

date: 2024-10-07
last_modified_at: 2024-10-07
---
## Assembly Basics
### 1. Data Format

|C declaration|Intel data type|Assembly-code suffix|Size(bytes)|
|---|---|---|---|
|`char`|Byte|`b`|`1`|
|`short`|Word|`w`|`2`|
|`int`|Double word|`l`|`4`|
|`long`|Quad word|`q`|`8`|
|`char*`|Quad word|`q`|`8`|
|`float`|Single precision|`s`|`4`|
|`double`|Double precision|`d`|`8`|

- TODO

<br>

### 2. x86-64 Integer Registers
![x86_64_integer_registers](TODO)  

- TODO

![lower_order_registers](TODO)  

<br>

### 3. Moving Data
- Moving Data  
`movq Source, Dest`

  - `q` 는 접미사이다. 위 Data Format 챕터에서 보았던 Assembly-code suffix.  

- Operand Types
  - 즉석 값(Immediate) : 상수 integer 데이터  
  `$0x400`, `$-533`  
    - TODO
  - 레지스터(Register) : 16 integer registers 중 하나  
  `%rax`, `%r13`  
    - TODO
  - 메모리(주소, Memory) : 메모리에서 연속된 8 bytes의 레지스터가 부여한 주소  
  `TODO`
    - TODO

<br>

- Operand 조합 별로 예시를 살펴보자.  
![moveq_operand_combinations](TODO)  
  - `(%rax)`와 같이 괄호`()`로 싸여진 경우, 주소에 접근하는 것(포인터)을 의미한다.  
  - TODO  

- 특수한 상황에서 사용하는 접미사도 있다.  
![special_suffix](TODO)  
  - TODO

<br>

### 4. Simple Memory Addressing Modes
- 직접 어드레싱 모드  
`Normal (R) Mem[Reg[R]]`  
  - TODO

- 간접 어드레싱 모드
`Displacement D(R) Mem[Reg[R]+D]`  
  - TODO  

<br>

### 5. Complete Memory  Addressing Modes  
- 위에서 알아본 간단한 두 가지의 Addressing Modes 말고도,  
실제로는 네 가지의 좀 더 복잡한 Addressing Modes가 추가로 존재한다.  

- TODO  

<br>

- 네 가지 특수한 Addressing Modes에 대한 Examples  
![address_commputation_examples](TODO)  

<br>

### 참고 - AT&T vs Intel syntax
- Assembly Language를 표현하는 syntax에는 두 가지 종류가 있다.  
  - Intel syntax
  - AT&T syntax  

- Disassembler에 따라 선호하는 syntax가 다르며,  
일반적으로 TODO  

- GDB는 Intel & AT&T syntax를 모두 지원하기 때문에, 선택할 수 있다.  
   - `show disassembly-flavor`
   - `set disassembly-flavor att` (default)
   - `set disassembly-flavor intel`  

- 아래와 같은 간단한 C 코드를 컴파일하고 disassemble 해보면,  

```c
#include <stdio.h>
int main(void) {
    long int a = 0xC0AF0F48;
    long int b = a + a * a;
    printf("%ld\n", b);
    return 0;
}
```

![disassemble](TODO)  

- TODO

<br>

## Arithmetic & Logical Operations
### 1. Address Computation Instruction
- TODO

### 2. Arithmetic Operations
- TODO

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">  

이 포스팅은 강원대학교 송원준 교수님의 시스템 프로그래밍 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.  

</div>
</details>