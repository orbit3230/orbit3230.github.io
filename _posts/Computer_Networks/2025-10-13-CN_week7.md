---
layout: post
title: "[컴퓨터네트워크] 7주차 - Introduction to routing protocols in practice"
excerpt: "Introduction to routing protocol in practice, Intra-ISP routing (OSPF), Routing among ISPs: BGP"

tags:
  - [컴퓨터네트워크]

toc: true

date: 2025-10-13
last_modified_at: 2025-10-13
---
## Routing Protocol
### 1. Introduction to routing protocol in practice, Intra-ISP routing (OSPF)
- 지금까지의 라우팅 연구들은 아래와 같은 가정에 기반했다.
  - 모든 라우터들은 "identical"
  - 네트워크는 "flat"
  - ... 그러나 실제로는 그렇지 않다.  

- 실제로는
  - Scale : 수십억개의 destinations
    - 모든 destinations를 라우팅 테이블에 저장할 수 없음
    - 라우팅 테이블 교환은 link를 넘치게 할 것임
  - Administrative autonomy
    - 인터넷은 네트워크들의 네트워크
    - 각 네트워크 관리자는 자신의 네트워크 내에서 라우팅을 컨트롤하길 원할 것임

<br>

- 라우터들은 "autonomous systems"(AS) 라고 불리는 도메인(domain)들로 그룹화된다.
  
- Intra-AS (a.k.a. intra-domain)
  - 같은 AS(도메인) 내에서 라우팅
  - 같은 AS 내 모든 라우터들은 반드시 같은 intra-domain routing protocol을 사용해야 함
  - 서로 다른 AS의 라우터들은 다른 intra-domain routing protocol을 사용할 수 있음
  - Gateway router
    - own AS의 edge에 위치
    - 다른 AS 내 라우터에 연결된 link를 가짐

- Inter-AS (a.k.a. inter-domain)  
  - AS들 간의 라우팅
  - Gateway들은 inter-domain routing을 수행 (as well as inter-domain routing)

<br>

- Interconnected ASes  
  - 포워딩 테이블은 intra-AS 라우팅 알고리즘과 inter-AS 라우팅 알고리즘에 의해 채워짐  
  ![interconnected_ases][def]  
    - Intra-AS 라우팅은 AS 내의 목적지들에 대한 엔트리를 결정  
    ![intra_as_routing][def2]  
    - Inter-AS & Intra-AS 라우팅이 외부 목적지들에 대한 엔트리를 결정  
    ![inter_as_routing][def3]  

- Inter-AS routing
  - AS1에 있는 라우터가 AS1의 밖에 있는 목적지를 가진 패킷을 받았다고 하자.  
  그렇다면, 라우터는 AS1의 gateway 라우터로 패킷을 보내야 할 것이다.  
  그런데 어느 gateway 라우터로 보내야 할까?  
  ![which_gateway_router][def4]  
  - AS1 inter-domain 라우팅은 반드시...
    - AS2로 갔을 때 도달 가능한 목적지와 AS3로 갔을 때 도달 가능한 목적지를 학습해야 한다.
    - 그리고 AS1 내 모든 라우터에게 이 reachability 정보를 전달해야 한다.  

  <br>

- Intra-AS routing 
  - 가장 널리 사용되는 intra-AS 라우팅 프로토콜 (a.k.a. IGP, Interior Gateway Protocol)  
    - Routing Information Protoco (RIP) [RFC 1723]  
      - Classic DV : DVs를 30초마다 교환
      - 더 이상 사용되지 않음
    - Enhanced Interior Gateway Routing Protocol (EIGRP)  
      - DV-based
      - 십여년간 Cisco-proprietary protocol로 사용  
    - **Open Shortest Path First (OSPF)** [RFC 2328]  
      - Link-state (LS) protocol
      - IS-IS protocol (ISO standard, not RFC standard)도 근본적으로 OSPF와 동일  

- Open Shortest Path First (OSPF)
  - "Open" : 공개 표준
  - Class link-state
    - 각 라우터는 OSPF link-state advertisements를 전체 AS 내 모든 다른 라우터들에게 흘려보냄
    - 여러가지 link cost metric을 지원 (e.g., bandwidth, delay, etc.)  
    - 각 라우터는 Dijkstra's algorithm을 사용하여 포워딩 테이블을 계산하고, full topology map을 유지함
  - Security
    - 모든 OSPF 메시지들은 인증됨 (malicious intrusion으로부터 보호)  

- Hierarchical OSPF
  - 그러나 AS의 규모가 매우 큰 경우도 있음
  - Local area와 Backbone 개념
  - Link-state advertisement는 오직 area 내에, 또는 backbone에만 흘려보내짐
  - 각 노드는 자신의 area topology만 상세히 알고, 오직 다른 destination에 도달하기 위한 방향만 알고 있음  
  ![hierarchical_ospf][def5]  

<br>  

### 2. Routing among ISPs: BGP

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 김도형 교수님의 컴퓨터네트워크 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>

[def]: https://i.imgur.com/vBXpnmS.png
[def2]: https://i.imgur.com/yhC3fI3.png
[def3]: https://i.imgur.com/sEKXMjj.png
[def4]: https://i.imgur.com/NPOflGq.png
[def5]: https://i.imgur.com/vNHaohQ.png