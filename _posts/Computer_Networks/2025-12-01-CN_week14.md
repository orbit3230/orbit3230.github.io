---
layout: post
title: "[컴퓨터네트워크] 14주차 - Wireless"
excerpt: "Introduction to Wireless / mobile networks, Wireless"

tags:
  - [컴퓨터네트워크]

toc: true

date: 2025-12-01
last_modified_at: 2025-12-08
---
## Wireless
### 1. Introduction to Wireless / mobile networks
- Elements of a wireless network  
![wireless_network_elements_1][def]  
![wireless_network_elements_2][def2]  
![wireless_network_elements_3][def3]  

<br>

- Characteristics of selected wireless links  
![wireless_link_characteristics][def4]  

<br>

- Elements of a wireless network (Cont'd)
- ***Infrastructure mode***  
![wireless_network_elements_contd_1][def5]  
  - 베이스 스테이션이 모바일 장치들을 wireless 네트워크에 연결시켜 줌
  - **Handoff** : 모바일 장치가 연결을 제공하던 베이스 스테이션을 벗어나 다른 베이스 스테이션의 영역으로 들어갈 때, 연결을 새로운 베이스 스테이션으로 옮겨 주는 것  

- ***Ad hoc mode***  
![wireless_network_elements_contd_2][def6]  
  - No base stations
  - 노드들은 오직 link coveraage 내에서만 다른 노드로 transmit 가능
  - 노드들은 자기네들끼리 네트워크를 organize (자기들 간 라우팅)  

<br>

- Wireless network taxonomy  

||Single hop|Multi hop|  
|---|---|---|  
|Infrastructure<br>(e.g., APs)|호스트는 베이스 스테이션에 연결(WiFi, cellular)하여 더 큰 인터넷에 연결|호스트는 여러 wireless 노드들을 relay하여 더 큰 인터넷에 연결(mesh 네트워크)|  
|No infrastructure|No base station, 더 큰 인터넷에 연결 안됨(Bluetooth, ad hoc networks)|No base station, 더 큰 인터넷에 연결 안됨. 노드들이 서로 relay하여 네트워크 형성(MANET, VANET)|  

<br>

### 2. Wireless
- Characteristics of wireless links
  - 감소된 signal strength (attenuation)
    - 라디오 신호는 물질을 통과하면서 감쇠됨 (path loss)  
    - 무선 라디오 신호는 아래와 같은 식으로 거리에 따라 감소됨  
    ![path_loss_equation][def7]  

  - Multipath propagation
    - 라디오 신호는 물체나 지면에 반사되어, 목적지에 약간 다른 시간에 도달  
    ![multipath_propagation][def8]  
    - Coherence time : 데이터가 수신되기 위해 채널에 존재하는 시간의 양  
    ![coherence_time][def9]  
      - coherence time은 오버랩될 수 없기 때문에, 최대 가능한 transmission rate에 영향을 준다.
      - Frequency & Receiver velocity와 반비례 관계  

  - 다른 sources와의 간섭
    - 무선 네트워크 주파수(e.g., 2.4 GHz)는 다른 많은 장치들(e.g., WiFi, cellular, motors)와 공유됨 -> 다른 장치에서 오는 신호와 간섭 발생 가능  

  - Signal-to-Noise Ratio (SNR)  
  ![signal_to_noise_ratio][def10]  
    - link quality를 측정하는 중요한 척도
    - 큰 SNR -> noise로부터 signal을 더 쉽게 구별 가능 (good thing)
  - SNR vs. BER (Bit Error Rate) trade-offs
    - physical layer가 고정되어 있을 때,
      - Power 증가 -> SNR 증가 -> BER 감소
    - SNR이 고정되어 있을 때는,
      - BER 요구사항을 충족하는 physical layer 중에서 가장 highest throughput을 제공하는 physical layer 선택 필요
      - SNR 값은 주변 노이즈 상황에 따라 바뀔 수 있다.
      - 따라서 physical layer도 동적으로 adapt 해야 한다.  

    - Wireless sender와 receiver가 여럿이면, 추가적인 문제를 일으킨다.  
    -> Hidden Node (terminal) problem  
    ![hidden_node_problem][def11]  
      - 장애물이나 신호 간섭때문에 발생한다.
      - Node `A`와 `B`는 서로의 신호를 들을 수 있다.
      - Node `B`와 `C`도 서로의 신호를 들을 수 있다.
      - 하지만 Node `A`와 `C`는 서로의 신호를 들을 수 없다.
        - 이들이 동시에 패킷을 보낼 수 있기 때문에, collision과 interference를 유발하게 된다.  

<br>

- Code Division Multiple Access (CDMA)
  - 서로에게 할당된 Unique "Code" (즉, code set partitioning)  
    - 모든 사용자는 동일한 주파수 대역을 공유하지만, 각 유저는 인코딩된 데이터에 대한 자신만의 **"chipping" sequence**(즉, 코드)를 갖는다.
    - 여러 유저들로 히여금 "coexist"할 수 있게 해주며, 최소한의 간섭으로 동시에 transmit할 수 있게 해준다. (만약 코드들이 서로 orthogonal하다면)

  - 인코딩  
  `Original data` X `Chipping sequence` (inner product operation)

  - 디코딩  
  `Encoded data` X `Chipping sequence`  

  - CDMA encode/decode  
  ![cdma_encode_decode_1](TODO)  
  ![cdma_encode_decode_2](TODO)  

<br>

### 3. WiFi: IEEE 802.11 wireless LANs
- IEEE 802.11 Wireless LAN  
![ieee_80211_wireless_lan](TODO)  

- IEEE 802.11 LAN architecture  
![ieee_80211_lan_architecture](TODO)  
  - Wireless 호스트는 base station과 communicate
    - Base station = Access Point (AP)  

  - Infrastructure 모드에서 Basic Service Set (BSS) (a.k.a. "cell")는 아래를 포함한다.
    - Wireless 호스트들
    - Access Point (AP) : base station 
    - Ad hoc 모드 : Hosts only  

- IEEE 802.11: channels
  - Frequency bands
    - 2.4 GHz : ISM band
    - 5 GHz : UNII band

  - 스펙트럼은 서로 다른 주파수로 channels로 나뉨
    - AP admin은 AP에 대한 주파수를 선택
    - 간섭 발생 가능 : 채널들은 인접한 AP들에 의해 선택된 것과 같을 수 있음
    - example  
    ![ieee_80211_channels_1](TODO)  
    - 2.4 GHz band - overlapping channels  
    ![ieee_80211_channels_2](TODO)  
      - 세 개의 non-overlapping channels가 동시에 사용될 수 있음
    - 5 GHz band - 25 non-overlapping 20MHz-wide channels  
    ![ieee_80211_channels_3](TODO)  

- IEEE 802.11: association  
  - Arriving host는 반드시 AP와 associate 해야함
    - 채널을 스캔하고, AP의 이름(SSID)와 MA를 담고있는 beacon 프레임을 스캔
    - Assisciate with 할 AP 선택
    - Authentication 수행 (may)
    - 일반적으로 AP의 서브넷 내 IP 주소를 얻기 위해 DHCP 사용  

- IEEE 802.11: passive / active scanning  
  - Passive scanning  
  ![ieee_80211_passive_scanning](TODO)  
    - Beacon 프레임 : AP에서 보내졌음
    - Association 요청 프레임 : `H1` -> 선택된 AP
    - Association 응답 프레임 : 선택된 AP -> `H1`

  - Active scanning  
  ![ieee_80211_active_scanning](TODO)  
    - Probe 요청 프레임 : `H1`에서부터 브로드캐스트
    - Probe 응답 프레임 : AP에서 보내졌음
    - Association 요청 프레임 : `H1` -> 선택된 AP
    - Association 응답 프레임 : 선택된 AP -> `H1`

- IEEE 802.11: multiple access  
![ieee_80211_multiple_access](TODO)  
  - 동시에 두 개 이상의 노드가 transmit 할 때, collision을 피할 필요가 있음
  - 802.11 : 일반적으로는 CSMA (transmitting 전 sense)
    - 감지된 다른 노드의 ongoing transmission와 충돌하지 않도록
  - 그러나 Collision Detection은 불가능 (무선 환경에서는)
    - collision을 감지하는 것은 어려움 - high transmitting signal, weak received signal (due to attenuation)
    - 항상 모든 collision을 감지할 수는 없음 - hidden node issue, attenuation  

  - Point Coordination Function (PCF -> HCCA)  
  ![ieee_80211_point_coordination_function](TODO)  
    - Polling 기반의 채널 액세스 : contention free
    - 높은 복잡성 : centrol coordination이 필요 (잘 사용되지 않음)

  - Distributed Coordination Function (PCF -> EDCA)  
  ![ieee_80211_distributed_coordination_function](TODO)  
    - Contention 기반의 채널 액세스
    - Carrier-Sense Multiple Access / Collision Avoidance (CSMA/CA)
      - Transmission은 현재 transmission이 끝날 때 까지 기다림
    - 간단하고, 실제로 잘 사용됨  

- CSMA/CA  
![csma_ca](TODO)  
  - Sender
    - 만약 DIFS 동안 채널이 idle이면, 즉시 전송
    - 만약 busy 채널이 감지되면,
      - (1) Random backoff timer를 시작
      - (2) 채널이 idle인 동안 timer countdown
      - (3) Timer가 0이 되면, 전송 시작
      - (4) ACK가 돌아오지 않으면, Random backoff timer를 늘리고 (2)로 돌아감

  - Receiver
    - 만약 프레임이 올바르게 수신되면, SIFS 후에 ACK 전송 (hidden node 문제때문에 ACK이 필요함)

  - Example  
  ![csma_ca_example_1](TODO)  
  ![csma_ca_example_2](TODO)  

- RTS/CTS in CSMA/CA
  - Collision을 피하기 위해, sender는 작은 reservation 패킷을 사용해 채널을 예약할 수 있음  
  ![rts_cts_in_csma_ca](TODO)  
    - Sender는 CSMA를 사용하여 Receiver에게 작은 RTS(Request to Send) 패킷을 보낸다.
      - RTS 패킷 또한 서로 충돌할 수 있음 (그래도 짧다)
    - Receiver는 RTS에 대한 응답으로 CTS(Clear to Send) 패킷을 브로드캐스트 한다.
      - CTS는 모든 인접 노드가 들을 수 있다. ("좀 이따 프레임이 올거야. 얘들아 조용히 해줘")
      - 다른 stations는 transmission을 연기  

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 김도형 교수님의 컴퓨터네트워크 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>

[def]: https://i.imgur.com/A4iygg8.png
[def2]: https://i.imgur.com/jlfoMjc.png
[def3]: https://i.imgur.com/SlaTSnw.png
[def4]: https://i.imgur.com/10UVlh9.png
[def5]: https://i.imgur.com/ZfHbPvK.png
[def6]: https://i.imgur.com/IA1jNZw.png
[def7]: https://i.imgur.com/b65h8QC.png
[def8]: https://i.imgur.com/tM412xl.png
[def9]: https://i.imgur.com/EQA0HAL.png
[def10]: https://i.imgur.com/NORjexM.png
[def11]: https://i.imgur.com/DQTbYjI.png