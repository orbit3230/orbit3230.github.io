---
layout: post
title: "[디지털영상처리] 7주차 - 모폴로지"
excerpt: "Fundamental Concepts, FSP Erosion & Dilation, SP Erosion & Dilation, Opening & Closing, Hit-and-Miss Transform"

tags:
  - [디지털영상처리]

toc: true

date: 2025-10-17
last_modified_at: 2025-10-21
---
## 모폴로지 (Morphology)
- 모폴로지(Morphology) : 생물학에서 유래한 것으로, 동식물의 형태와 구조를 다루는 학문  

- 이미지 프로세성에서의 수학적 모폴로지
  - 영역 형태의 표현과 분석에 유용한 이미지 요소를 추출해내는 도구
  - 경계선, 뼈대, 볼록 껍질(convex hull) 등과 같은 geometrical 정보를 다룰 수 있다.
  - Euclidean space에서의 input signal을 변환하는 비선형 연산자들의 집합
  - 이 집합과 상호작용하기 위해 구조화 요소(structuring element)를 사용

<br>

### 1. Fundamental Concepts
- Function
  - 이미지를 의미.
  - `f`로 표현되는 그레이스케일 이미지
  - `f(n)` : 1차원 이미지에서의 `n`th 픽셀 값
  - `f(x, y)` : 2차원 이미지에서의 `(x, y)`th 픽셀 값

- Set
  - 필터(마스크)를 의미.
  - Euclidean space에서의 특정 도메인
  - e.g., 1차원 set `B` = `{0, 1, 2}`  
  ![set_b][def]  
    - `B`의 reflection set : `B̄` = `{0, -1, -2}`  
    ![set_b_reflection][def2]  
  - e.g., 2차원 set `B` = `{(0,0), (0,1), (1,0)}`  
    - `B`의 reflection set : `B̄` = `{(0,0), (-1,0), (0,-1)}`  
    ![set_b_2d][def3]  

<br>

### 2. FSP Erosion & Dilation
- FSP (Function and Set Processing) erosion  
![fsp_erosion][def4]  
  - 흰색 부분을 줄이는 `min` 연산
  - 기호는 `⊖`를 사용  

- FSP dilation  
![fsp_dilation][def5]  
  - 흰색 부분을 늘리는 `max` 연산  
  - 기호는 `⊕`를 사용  

- e.g., `B = {0, 1, 2}`  
![fsp_example][def6]  

- e.g., `B = {(0,0), (0,1), (1,0)}`  
![fsp_example_2d][def7]  

<br>

- Original Image  
![original_image][def8]  
  - Eroded Image  
  ![eroded_image][def9]  
    - Erosion 연산을 통해 흰색 부분이 Set(Mask, Structuring Element)의 반지름(절반) 크기 만큼 줄어듦

  - Dilated Image  
  ![dilated_image][def10]  
    - Dilation 연산을 통해 흰색 부분이 Set(Mask, Structuring Element)의 반지름(절반) 크기 만큼 늘어남  

<br>

- Original Image  
![original_image_2][def11]  
  - Eroded Image  
  ![eroded_image_2][def12]  

  - Dilated Image  
  ![dilated_image_2][def13]  


<br>

- Pepper noise(검은 색 픽셀 노이즈)가 있는 Input Image  
![pepper_noise_image][def14]  
  - Dilated Image (흰색 픽셀을 늘려 pepper noise 제거)  
  ![dilated_pepper_noise_image][def15]  

- Salt noise(흰 색 픽셀 노이즈)가 있는 Input Image  
![salt_noise_image][def16]  
  - Eroded Image (흰색 픽셀을 줄여 salt noise 제거)  
  ![eroded_salt_noise_image][def17]  

<br>

### 3. SP Erosion & Dilation  
- Binary input signal 또한 Euclidean space에서의 집합으로 취급될 수 있다.  

- SP (Set Processing) erosion  
![sp_erosion][def18]  
  - `min` 기호 대신 `∩` (교집합, AND) 기호를 사용    

- SP dilation  
![sp_dilation][def19]  
  - `max` 기호 대신 `∪` (합집합, OR) 기호를 사용  

- e.g., `B = {(0,0), (0,1), (1,0)}`  
![sp_example][def20]  

<br>

- Original Binary Image  
![original_binary_image][def21]  
  - Eroded Binary Image  
  ![eroded_binary_image][def22]  

  - Dilated Binary Image  
  ![dilated_binary_image][def23]  

<br>

### 4. Opening & Closing  
- Opening : Erosion(`⊖`) 후 Dilation(`⊕`)    
![opening][def24]  
  - 기호는 `○`를 사용  

  - FSP Opening  
  ![fsp_opening][def25]  

  - SP Opening  
  ![sp_opening][def26]  

  <br>

  - SE(Structuring Element)보다 작은 크기의 Bright object(밝은 물체)를 제거한다.  
    - 원 모양 SE를 사용한 Opening  
    ![opening_result][def27]  
    - 수평/수직 모양 SE를 사용한 Opening  
    ![opening_result_2][def28]  

<br>

- Closing : Dilation(`⊕`) 후 Erosion(`⊖`)  
![closing][def29]  
  - 기호는 `●`를 사용  

  - FSP Closing  
  ![fsp_closing][def30]  

  - SP Closing  
  ![sp_closing][def31]  

  <br>

  - SE(Structuring Element)보다 작은 크기의 Dark object(어두운 물체)를 제거한다.  
    - `22`-pixel 지름(diameter)의 원 모양 SE를 사용한 Closing  
    ![closing_result][def32]  

<br>

- Example of Opening & Closing  
  - Example 1  
  ![opening_closing_example_1][def33]  

  - Example 2  
    - Pepper noise 제거를 위한 Closing  
    ![opening_example_2][def34]  

    - Salt noise 제거를 위한 Opening  
    ![closing_example_2][def35]  

<br>

### 5. Hit-and-Miss Transform  
- 이미지에서 Foreground(객체)와 Background(배경)의 특정 패턴을 검출하는데 사용되는 기법

- Hit-and-Miss Transform  
![hit_and_miss_transform][def36]  
  - `B`<sub>`f`</sub> : `B`의 foreground 패턴  
  - `B`<sub>`b`</sub> : `B`의 background 패턴  

<br>

- 주어진 input image `A`에서 패턴 `B`를 찾아보자.  
![hit_and_miss_example][def37]  
  - 결과  
  ![hit_and_miss_result][def38]  
    - 패턴 `B`가 존재하는 위치에만 흰색 픽셀로 표시됨  

<br>

- Hit-and-Miss Transform의 응용 예시  
  - 객체의 끝점(End point) 검출  
  ![end_point_detection][def39]  

  - Thinning  
  ![thinning_example][def40]  

  - Thickening  
  ![thickening_example][def41]  

  - Pruning  
  ![pruning_example][def42]  

  - Morphological Smoother  
  ![morphological_smoother][def43]  


<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 김윤 교수님의 디지털영상처리 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>

[def]: https://i.imgur.com/zG5OugF.png
[def2]: https://i.imgur.com/zhiQ1ay.png
[def3]: https://i.imgur.com/mdBffoN.png
[def4]: https://i.imgur.com/y64UYXZ.png
[def5]: https://i.imgur.com/6t0A7fF.png
[def6]: https://i.imgur.com/0dsY7UU.png
[def7]: https://i.imgur.com/QOH7CZO.png
[def8]: https://i.imgur.com/IAXxWWR.png
[def9]: https://i.imgur.com/EaNTaYm.png
[def10]: https://i.imgur.com/WTwlkZ8.png
[def11]: https://i.imgur.com/uArDtPe.png
[def12]: https://i.imgur.com/xuKcZFS.png
[def13]: https://i.imgur.com/kIuICtt.png
[def14]: https://i.imgur.com/t2WHke4.png
[def15]: https://i.imgur.com/cptxfK5.png
[def16]: https://i.imgur.com/gSvaxGM.png
[def17]: https://i.imgur.com/m23bZeG.png
[def18]: https://i.imgur.com/pUhDPZG.png
[def19]: https://i.imgur.com/GkuR8Ot.png
[def20]: https://i.imgur.com/uWiNJ0S.png
[def21]: https://i.imgur.com/VuvXkrU.png
[def22]: https://i.imgur.com/T83uDDW.png
[def23]: https://i.imgur.com/A2itr0e.png
[def24]: https://i.imgur.com/3UKsV2F.png
[def25]: https://i.imgur.com/fVl8DeP.png
[def26]: https://i.imgur.com/vZ4Efcx.png
[def27]: https://i.imgur.com/c6PVzTO.png
[def28]: https://i.imgur.com/xA7xx3n.png
[def29]: https://i.imgur.com/8ElSPg5.png
[def30]: https://i.imgur.com/6uglhZu.png
[def31]: https://i.imgur.com/SnlAkGH.png
[def32]: https://i.imgur.com/naN91Yr.png
[def33]: https://i.imgur.com/L5waJQt.png
[def34]: https://i.imgur.com/5GaKQml.png
[def35]: https://i.imgur.com/uUklXzh.png
[def36]: https://i.imgur.com/9yqDiPP.png
[def37]: https://i.imgur.com/SlvAlkr.png
[def38]: https://i.imgur.com/JWY6N8H.png
[def39]: https://i.imgur.com/8zNGRDR.png
[def40]: https://i.imgur.com/5yYK96N.png
[def41]: https://i.imgur.com/YxG6nJO.png
[def42]: https://i.imgur.com/papOFC4.png
[def43]: https://i.imgur.com/FilVBse.png