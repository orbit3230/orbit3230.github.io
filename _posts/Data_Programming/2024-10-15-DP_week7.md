---
layout: post
title: "[데이터 분석 프로그래밍] 7주차 - Pandas"
excerpt: ""

tags:
  - [데이터 분석 프로그래밍, Python]

toc: true

date: 2024-10-15
last_modified_at: 2024-10-15
---
## Introduction to Pandas
- Pandas
  - 데이터 조작과 분석을 위한 파이썬 오픈소스 라이브러리
  - 데이터 조작과 분석이 쉽고 직관적이게 디자인 되었다.  
  - 빠르고 간편한 Data cleaning, exploration, 그리고 analysis 편의성 제공  
  - 다양한 데이터 처리 함수를 제공함으로써 데이터 분석을 보다 쉽게 만들어준다.  
    - Data cleaning / Missing value processing / Data transformation  
  - NumPy를 기반으로 만들어졌다. 가장 큰 차이는, Pandas는 table 형태의 heterogeneous data를 다루는데 특화되어 있다.  
  - **Pan**el **Da**ta 의 줄임말이다.  

<br>

- Easy Data Import and Export
  - 다양한 파일 포맷으로부터 손쉽게 데이터 load. (CSV, Excel, SQL, etc.)  
  - 처리한 데이터를 매끄럽게 export.

- Data Exploration
  - 빠른 data 요약과 통계 분석
  - 트렌드, 패턴, 이상치 파악

- Data Cleaning and Preprocessing
  - 효율적인 Missing value 처리
  - Rename, filter, or drop columns
  - 데이터를 변환하는 데에 유용한 함수 제공

- Data Manipulation
  - 데이터 aggregation에 `groupby` 함수 수행
  - dataset을 merge & concatenate

- Time Series Analysis
  - 시계열 데이터를 다루는데 훌륭한 지원  
  - 간편한 날짜/시간 데이터 처리

- Integration with other libraries
  - 다른 파이썬라이브러리와 매끄러운 호환성
  - NumPy, Matplotlib, Scikit-learn, etc.

  <br>

- Version check  
`!pip show pandas`

```py
import pandas as pd
print(pd.__version__)
```

- Installation  
`!pip install pandas`  

<br> 

## Pandas
### 1. Pandas Data Structures
- DataFrame
  - Pandas에서 table 형태의 데이터를 저장하는 object이다.
  - 행/열 구조의 2차원 데이터 구조. Excel sheet와 유사하다.
  - 여러 개의 Series로 이루어져있다.  

- Series
    - Pandas에서 1차원 데이터를 저장하는 object이다.  
    DataFrame의 각 열이 Series이다.  
    - 각 데이터 조각을 고유한 index로 관리한다.  

    <br>

- 즉, 요약하자면 DataFrame은 같은 Index를 고유하는 Series의 집합이다.  
![dataframe_is_collection_of_series](TODO)  

<br>

- (1) 직접 Series를 부여하여 DataFrame 생성  
`pd.Series()`

```py
import pandas as pd
s = pd.Series(["apple", "banana", "melon"])
print(s)
# 0     apple
# 1    banana
# 2     melon
# dtype: object
```

- index : labels의 집합, 각 값들을 식별하는 key
- values : values의 집합, 주로 같은 데이터 타입.  

```py
print("Index: ", s.index)
# Index:  RangeIndex(start=0, stop=3, step=1)
print("Values: ", s.values)
# Values:  ['apple' 'banana' 'melon']
```

- Series에 고유한 index를 부여할 수 있다.  
  - Pandas series를 만들 때, 직접 index를 specify 할 수 있다.
  - index는 데이터의 각 element에 접근하도록 해주는 label이다.  

```py
s = pd.Series(["apple", "banana", "melon"], index=["A", "B", "C"])
print(s)
# A     apple
# B    banana
# C     melon
# dtype: object
```

```py
s.index = ["first", "second", "third"]
print(s)
# first     apple
# second    banana
# third      melon
# dtype: object
```

<br>

- (2) Dataset을 Import 하여 DataFrame 생성
  - `titanic.csv` 파일을 불러와 DataFrame을 생성해보자.

```py
from google.colab import drive
drive.mount('/content/gdrive')
titanic_df = pd.read_csv('/content/gdrive/My Drive/titanic.csv')
```

- 생성된 DataFrame은 일반적으로 매우 크기 때문에, 일부만 읽어볼 수 있는 함수가 존재한다.  
  - `head(n = 5)` : 처음 n개의 데이터를 읽어온다.
  - `tail(n = 5)` : 마지막 n개의 데이터를 읽어온다.  

  ```py
  titanic_df.head(5)
  titanic_df.tail(5)
  ```  

<br>

- (3) `ndarray`로 DataFrame 생성

```py
import numpy as np
data = np.array([
    (1, "Alice", 25),
    (2, "Bob", 30),
    (3, "Charlie", 22)
], dtype=[('ID', 'int'), ('Name', 'object'), ('Age', 'int')])
df = pd.DataFrame(data)
df
```

![ndarray_to_dataframe](TODO)  

<br>

-  (4) list와 dictionary로 DataFrame 생성

```py
data = [[1, 'Alice', 25], [2, 'Bob', 30], [3, 'Charlie', 22]]
columns = ['ID', 'Name', 'Age']
df = pd.DataFrame(data, columns=columns)
df
```

![list_to_dataframe](TODO)  

```py
data = {
    'ID': [1, 2, 3],
    'Name': ['Alice', 'Bob', 'Charlie'],
    'Age': [25, 30, 22]
}
df = pd.DataFrame(data)
df
```

![dict_to_dataframe](TODO)

<br>

### 2. Data Exploration
- 데이터가 주어지면, 우리는 그 데이터에 친숙해져야 한다.  
- 데이터를 알아가는 것은 중요한 단계이다.  
- `shape`
  - DataFrame의 dimension을 나타내는 tuple을 반환한다. `(rows, columns)`  
  - 내 dataset의 크기를 빠르게 파악할 수 있다.  
- `info()`
  - 데이터 타입이나 non-null 데이터 개수를 포함한 DataFrame에 대한 간결한 요약을 제공한다.  
  - 내 dataset의 구조를 빠르게 파악할 수 있다.  

```py
titanic_df.shape
# (891, 12)
```

```py
titanic_df.info()
# <class 'pandas.core.frame.DataFrame'>
# RangeIndex: 891 entries, 0 to 890
# Data columns (total 12 columns):
#  #   Column       Non-Null Count  Dtype
# ---  ------       --------------  -----
#  0   PassengerId  891 non-null    int64
#  1   Survived     891 non-null    int64
#  2   Pclass       891 non-null    int64
#  3   Name         891 non-null
#  4   Sex          891 non-null    object
#  5   Age          714 non-null    float64
#  6   SibSp        891 non-null    int64
#  7   Parch        891 non-null    int64
#  8   Ticket       891 non-null    object
#  9   Fare         891 non-null    float64
#  10  Cabin        204 non-null    object
#  11  Embarked     889 non-null    object
# dtypes: float64(2), int64(5), object(5)
# memory usage: 83.7+ KB
```

TO BE CONTINUED...

## Data Extraction

## Data Manipulation

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 장홍준 교수님의 데이터분석프로그래밍 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details> 