---
layout: post
title: "[데이터통신] 7주차 - Video Streaming & CDN"
excerpt: "Video Streaming, Multimedio: Video, Streaming stored video, Streaming multimedia: DASH, Content Distribution Networks (CDNs)"

tags:
  - [데이터통신]

toc: true

date: 2025-04-14
last_modified_at: 2025-04-17
---
## Video Streaming & CDN
### 1. Video Streaming  
- 현재 Internet Bandwidth의 가장 Major Consumer : Video Streaming  
  - Netfilx, YouTube, Amazon Prime이 ISP 트래픽의 80%를 차지  

![Video Streaming][def]  

<br>

- Challenge
  - (1) Scale !
    - 어떻게 10억명의 사용자에게 제공할 것인가?  
    => Solution : distributed infrastructure  

  - (2) Heterogeneity !  
    - 유저들은 서로 다른 Capabilities를 가진다.  
    (e.g., 유선 vs. 무선 ; rich 대역폭 vs. poor 대역폭)  
    => network-independent (application-level) infrastructure

    <br>

### 2. Multimedia: Video
- Video : 일정한 rate로 보여지는 이미지들의 sequence  
  - e.g., 24 images/sec (24 fps)

- Digital image : array of pixels  
  - 각 픽셀은 bits로 표현된다.

- Compression (coding) : 이미지 내, 그리고 이미지 간 불필요한 정보(redundancy)를 이용해 이미지를 인코딩하는데 드는 bits 수를 줄이는 것.
  - Spatial (within image)
  - Temporal (between images)

<br>

- Constant Bit Rate (CBR)
  - 고정된 비디오 인코딩 비트 전송률

- Variable Bit Rate (VBR)
  - 비디오 인코딩 비트 전송률이 spatial, temporal coding이 변화하는 양 만큼 변화
  - e.g.,  
    - MPEG1 (CD-ROM) : 1.5 Mbps
    - MPEG2 (DVD) : 3-6 Mbps
    - MPEG4 (Internet) : 64 Kbps - 12 Mbps  

    <br>

### 3. Streaming stored video
![streaming stored video](TODO)  
  - Challenges
    - Server-to-client 대역폭은 변화하는 네트워크 congestions levels로 인해 계속 변화한다.
    - Congestion으로 인한 패킷 로스와 지연은 ployout을 지연시키거나, 질 나쁜 비디오 퀄리티를 초래한다.  

<br>

- 이상적인 비디오 스트리밍  
![ideal_video_streaming](TODO)  

- 문제점
  - TODO
  - TODO

- 실제 비디오 스트리밍  
![real_video_streaming](TODO)  

<br>

### 4. Streaming multimedia: DASH  
- DASH : Dynamic, Adaptive Streaming over HTTP  

- 서버
  - 비디오 파일을 여러 개의 Chunks로 나눈다.
  - 각 Chunk는 여러 서로 다른 비트 전송률로 인코딩 된다.
    - 각 버전은 서로 다른 퀄리티 레벨을 가진다.
  - 서로 다른 비트 전송률로 인코딩 된 Chunk들이 서로 다른 파일에 저장된다.  
  - 파일들을 다양한 CDN 노드에 복제된다.
  - **Manifest File** : 서로 다른 Chunks를 위해 URLs를 제공  

- 클라이언트
  - 주기적으로 Server-to-client 대역폭을 측정한다.
  - Manifest를 Consulting하고, 한 번에 하나의 Chunk만 요청한다.
    - 주어진 현재 대역폭에 감당가능한 최대 coding rate를 선택한다.
    - 서로 다른 시간대 별로 서로 다른 비트 전송률을 선택할 수 있다.  
    (해당 시점에 사용가능한 대역폭, 그리고 서버에 따라)  

<br>

- **"Intelligence" at Client: Client determines**  
  - TODO  

  <br>

### 4. Content Distribution Networds (CDNs)
- Challenge : 어떻게 수백만개의 비디오 콘텐츠를 수백, 수천명의 동시접속 유저들에게 스트리밍할까?  

  - Option 1 - single, large mega server
    - TODO

  - Option 2 - 여러 비디오 복사본을 지리적으로 분산된 사이트(CDN)에 저장/제공  
    - TODO

  <br>

- Netflit는 어떻게 작동하는가?  
![Netflix](TODO)
  - TODO  

  <br>

- OTT : "Over The Top"  
![OTT1](TODO)  
  - TODO

![OTT2](TODO)  

<br>

- CDN content access: a closer look  
  - Bob(클라이언트)는 비디오 http://netcinema.com/6Y7B23V 를 요청했고, 이는 http://KingCDN.com/NetC6y&B23V 라는 CDN 서버에 저장되어 있다.  
![CDN](TODO)  

<br>

- Case study: NETFLIX  
![Netflix](TODO)    

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 김도형 교수님의 데이터통신 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>

[def]: https://i.imgur.com/aMlLIkx.png