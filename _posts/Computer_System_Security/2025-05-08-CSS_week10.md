---
layout: post
title: "[컴퓨터시스템보안] 9주차 - 방화벽과 침입 방지 시스템"
excerpt: ""

tags:
  - [컴퓨터시스템보안]

toc: true

date: 2025-05-08
last_modified_at: 2025-05-08
---
## 방화벽과 침입 방지 시스템
- TODOs

<br>

### 6. 침입 방지 시스템
- 침입 방지 시스템(IPS, Intrusion Prevention System)
  - IDS의 확장이며, 악의적인 활동을 **차단하거나 방지하는** 기능을 추가한 시스템
  - 호스트 기반, 네트워크 기반, 또는 분산/하이브리드 방식으로 구현 가능
  - **이상 탐지 방식**과 **시그니처/휴리스틱 탐지 방식** 모두 사용 가능
  - IPS는 방화벽처럼 트래픽을 차단할 수 있지만, **차단 방식은 IDS를 위해 개발된 알고리즘**을 사용

  <br>

- **호스트 기반 IPS** (HIPS)  
  - **악성 탐지 방식**과 **시그니처/휴리스틱 탐지 방식** 모두 사용 가능
    - 추가로 **sandbox 방식**도 사용 -> 주로 **모바일 코드**에 사용 (격리된 시스템 영역에서 실행, 감시)  
  - HIPS가 다루는 악성 행동 패턴 Example
    - **시스템 리소스 변경**
    - **권한 상승 공격**(Privilege Escalation)
    - **버퍼 오버플로우 공격**(Buffer Overflow)
    - **이메일 주소록 접근**
    - **디렉토리 탐색**
  - HIPS가 desktop 보호를 제공하는 분야
    - System call
    - File system access
    - System registry settings
    - Host input/output
  - 보안 기능들을 **통합된 하나의 제품**으로 제공
  - **Endpoint** 보안 역할을 수행 (점차 중요해지는 중)  

  <br>

- **네트워크 기반 IPS** (NIPS)
  - NIPS는 **패킷의 수정/폐기와 TCP 연결 차단의 권한**을 갖고 있는 **inline NIDS**  
  - **악성 탐지 방식**과 **시그니처/휴리스틱 탐지 방식** 모두 사용 가능
  - 방화벽에서는 흔히 볼 수 없는 **flow data protection** 기능을 제공
    - **패킷**들에 분산된 application payload가 **재조립**되어 복구되어야 함
  - 악성 패킷 감지 방법
    - **Pattern matching** : 알려진 시그니처 감지
    - **Stateful matching** : 패킷이 아닌 트래픽 스트림에서 시그니처 감지
    - **Protocol anomaly** : RFC 표준과 다른 변형된 형태 감지
    - **Traffic anomaly** : 비정상적인 트래픽 패턴 감지
    - **Statistical anomaly** : 정상적인 트래픽/throughput과 다른 패턴 감지  

    <br>

- **분산 또는 하이브리드 IPS**
  - 악성 코드의 악의적인 행동에 대한 포괄적인 방어 시스템
  - 개발 동기 : 인터넷 기반 악성 코드 위협의 증가, 전파 속도의 상승, 전반적인 상황 파악 필요성
  - 창의적인 악성 코드 유형을 탐지하는 분석 성능이 중요
  - Example - 웜 모니터  
  ![worm_monitor](TODO)  

<br>

- **Snort Inline**
  - Snort는 경량의 침입 탐지 시스템
  - **Snort Inline**은 **Snort에 침입 방지 기능**을 추가한 것
  - Snort Inline은 사용자가 패킷을 수정할 수 있도록 **replace 옵션**을 제공
    - **honeypot** 구현에 유용 (by replacing)
    - 공격자는 실패는 알 수 있어도 이유를 알 수 없음  

    <br>

### 7. 예제: 통합 위협 관리 제품  
![UTM](TODO)  
  - (1) 도착한 트래픽은 우선 **복호화** 수행.
  - (2) **방화벽 모듈**에서 규칙에 따라 **패킷 필터링** 수행
  - (3) **데이터 분석 엔진**이 패킷 플로우 분석
  - (4) 데이터 분석 엔진은 **multipacket payload 재조립**
  - (5) 일부는 네트워크 내부 플로우 보안을 위해 **재 암호화**
  - (6) 탐지된 모든 위협은 **logging and reporting module**에 보고, alert 발생
  - (7) **Bacdwidth shaping module**은 성능 최적화를 위해 우선순위 / 서비스 품질(QoS) 알고리즘 사용  

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">

이 포스팅은 강원대학교 이헌길 교수님의 컴퓨터시스템보안 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.

</div>
</details>