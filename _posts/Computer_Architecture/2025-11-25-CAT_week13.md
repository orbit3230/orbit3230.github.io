---
layout: post
title: "[컴퓨터구조] 13주차 - MIPS Microarchitecture (Multi-cycle)"
excerpt: "Introduction, Control Unit, Main Controller FSM"

tags:
  - [컴퓨터구조]

toc: true

date: 2025-11-25
last_modified_at: 2025-11-25
---
## MIPS Microarchitecture (Multi-cycle)
### 1. Instroduction
- Multi-cycle Microarchitecture의 목표 : 각 instruction들이 실제로 필요로 하는 시간 만큼만 오직 사용하도록 하는 것

- Multi-cycle Design의 Benefits
  - Critical path design : 어떠한 명령어의 worst-case processing time에 독립적으로 critical path를 설계할 수 있다.
  - 빵과 버터 (common case) 디자인
    - 가장 중요한 곳에 시간과 리소스를 투자할 수 있다. (즉, machine이 정말로 하고자 하는 일을 향상시킬 수 있다.)
    - Common case vs. Uncommon case Example : ADD vs. DIV
  - 균형잡힌 디자인
    - 리소스 `X`를 여러번 필요로 하는 명령어가 구현되기 위해서 `X`를 여러번 복제할 필요가 없다.
    - 더 효율적인 하드웨어로 이어짐 : 명령어에 여러번 필요한 하드웨어 컴포넌트를 재사용할 수 있다.
    - e.g., multiple ALUs in the single cycle machine  

- Multi-cycle Design의 Downsides
  - 각 clock cycle의 끝에서 **중간 결과를 저장해야 한다.**
    - 레지스터에 있어 하드웨어 오버헤드
    - 하나의 명령어에 레지스터 setup/load 오버헤드가 여러번 발생

<br>

- A Basic Multi-cycle Microarchitecture
  - 명령어 processing cycle은 "states"로 나뉜다.
    - 명령어 처리 사이클이 여러 states를 가질 수 있다.
  - 명령어 처리에 state -> state로의 Multi-cycle microarchitecture sequence
    - 이 행동은 오로지 해당 state의 control signal들에 의해서만 결정된다.
  - 전체 프로세스의 행동은 finite state machine(FSM)에 의해 완전히 구체화된다.
  - State(clock cycle)에서, control signal은 두 가지를 컨트롤한다.
    - 어떻게 **datapath**가 데이터를 처리해야 하는지
    - 어떻게 **다음 clock cycle에 대한 control signal을 생성해야 하는지**

<br>

### 2. Control Unit
![control_unit_multi_cycle][def]

<br>

### 3. Main Controller FSM
- Common FSM
  - (1) Fetch  
  ![fsm_fetch_multi_cycle][def2]  

  - (2) Decode  
  ![fsm_decode_multi_cycle][def3]  

  - (3) Address Calculation  
  ![fsm_address_calculation_multi_cycle][def4]  

- LW FSM  
![fsm_lw_multi_cycle][def5]  

- SW FSM  
![fsm_sw_multi_cycle][def6]  

- R-type FSM  
![fsm_rtype_multi_cycle][def7]  

- BEQ FSM  
![fsm_beq_multi_cycle][def8]  

<br>

- Complete Multi-cycle Controller FSM  
![fsm_complete_multi_cycle][def9]  

<br>
<br>
<br>
<br>
<details>
<summary>주의사항</summary>
<div markdown="1">  

이 포스팅은 강원대학교 송원준 교수님의 컴퓨터구조 수업을 들으며 내용을 정리 한 것입니다.  
수업 내용에 대한 저작권은 교수님께 있으니,  
다른 곳으로의 무분별한 내용 복사를 자제해 주세요.  

</div>
</details>

[def]: https://i.imgur.com/I9e1wLA.png
[def2]: https://i.imgur.com/EI246bq.png
[def3]: https://i.imgur.com/l02u4tT.png
[def4]: https://i.imgur.com/0EoeDCc.png
[def5]: https://i.imgur.com/MooZJ1e.png
[def6]: https://i.imgur.com/i97UWJ1.png
[def7]: https://i.imgur.com/GR1Q9LJ.png
[def8]: https://i.imgur.com/Hr4HGLt.png
[def9]: https://i.imgur.com/ywgr9Ml.png